<?xml version='1.0' encoding='iso-8859-1' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core">
    <ui:define name="content">
        <h:head>
            <title>Estadisticas</title>
            <link href="estilos/jsfcrud.css" type="text/css" rel="stylesheet" />
            <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
        </h:head>
        <h:body  >
            <p:accordionPanel> 
                <p:tab title="Gráficos Estadísticos">  
                    <h:form  id="estudiante" > 

                        <p:panel id="panel1" header="Gráficos Estadísticos"> 
                            <h3>    <h:outputLabel value="Escoja una Promoción:" /> </h3>  
                            <br></br>
                            <p:selectOneMenu id="listapromoe" value="#{vista_estadistica.txtpromocion}"  required="true" requiredMessage="Se requiere una promocion">
                                <f:selectItem itemLabel="Seleccione una promoción" itemValue="" />   
                                <f:selectItems value="#{vista_estadistica.listapromocion}"/>
                            </p:selectOneMenu>
                            <br></br>
                            <h:outputLabel value="Formato reporte:" />
                            <br></br>
                            <p:selectOneRadio id="customRadio1" value="#{vista_estadistica.txtipo}" required="true"  requiredMessage="Se requiere un formato">  
                                <f:selectItem itemLabel="Formato PDF" itemValue="pdf" />  
                                <f:selectItem itemLabel="Formato Excel" itemValue="excel" />  
                            </p:selectOneRadio>  
                            <br></br>
                            <h:outputText id="mensaje1"  value="#{vista_estadistica.mensaje}" />
                            <br></br>

                            <h:commandButton id="estudiantes" value="Imprimir Reporte" action="#{vista_estadistica.imprimir_reporte_estadistica()}" />  
                        </p:panel> 

                        <p:scrollPanel style="width:1300px;height:200px">
                            <h:dataTable headerClass="cabeceraTabla"  id="alumno" value="#{vista_reportes.lista1}" var="lis" binding="#{vista_reportes.tabla}" border="0" cellpadding="2" cellspacing="0" rowClasses="jsfcrud_odd_row,jsfcrud_even_row" rules="all" style="border:solid 1px">
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Promoción"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.codigo_promocion}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Cédula"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.pe_cedula}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Nombres"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.pe_nombres}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Apellidos"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.pe_apellidos}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Dirección Trabajo"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.pe_direccion_trabajo}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Dirección Casa"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.pe_direccion_casa}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Teléfono1"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.pe_telefono1}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Teléfono2"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.pe_telefono2}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Especialidad"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.pe_especialidad}"/>
                                </h:column>
                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Fecha de Nacimiento"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.pe_fecha_nacimiento}"/>
                                </h:column>

                                <h:column>
                                    <f:facet name="header">
                                        <h:outputText value="Fecha de Graduación Pregrado"/>
                                    </f:facet>
                                    <h:outputText value="#{lis.fecha_graduacion_pregrado}"/>
                                </h:column>
                            </h:dataTable>
                        </p:scrollPanel>
                    </h:form> 
                </p:tab>

            </p:accordionPanel>
        </h:body>
    </ui:define>
</ui:composition>

